// Grover search on 150 qubits and 150 helper qubits

circuit: 300 qubits

// Init
// Nothing!

// Grover iteration 1
NCNCNOT(0,1,150)
NCCNOT(2,150,151)
NCCNOT(3,151,152)
NCCNOT(4,152,153)
NCCNOT(5,153,154)
NCCNOT(6,154,155)
NCCNOT(7,155,156)
NCCNOT(8,156,157)
NCCNOT(9,157,158)
NCCNOT(10,158,159)
NCCNOT(11,159,160)
NCCNOT(12,160,161)
NCCNOT(13,161,162)
NCCNOT(14,162,163)
NCCNOT(15,163,164)
NCCNOT(16,164,165)
NCCNOT(17,165,166)
NCCNOT(18,166,167)
NCCNOT(19,167,168)
NCCNOT(20,168,169)
NCCNOT(21,169,170)
NCCNOT(22,170,171)
NCCNOT(23,171,172)
NCCNOT(24,172,173)
NCCNOT(25,173,174)
NCCNOT(26,174,175)
NCCNOT(27,175,176)
NCCNOT(28,176,177)
NCCNOT(29,177,178)
NCCNOT(30,178,179)
NCCNOT(31,179,180)
NCCNOT(32,180,181)
NCCNOT(33,181,182)
NCCNOT(34,182,183)
NCCNOT(35,183,184)
NCCNOT(36,184,185)
NCCNOT(37,185,186)
NCCNOT(38,186,187)
NCCNOT(39,187,188)
NCCNOT(40,188,189)
NCCNOT(41,189,190)
NCCNOT(42,190,191)
NCCNOT(43,191,192)
NCCNOT(44,192,193)
NCCNOT(45,193,194)
NCCNOT(46,194,195)
NCCNOT(47,195,196)
NCCNOT(48,196,197)
NCCNOT(49,197,198)
NCCNOT(50,198,199)
NCCNOT(51,199,200)
NCCNOT(52,200,201)
NCCNOT(53,201,202)
NCCNOT(54,202,203)
NCCNOT(55,203,204)
NCCNOT(56,204,205)
NCCNOT(57,205,206)
NCCNOT(58,206,207)
NCCNOT(59,207,208)
NCCNOT(60,208,209)
NCCNOT(61,209,210)
NCCNOT(62,210,211)
NCCNOT(63,211,212)
NCCNOT(64,212,213)
NCCNOT(65,213,214)
NCCNOT(66,214,215)
NCCNOT(67,215,216)
NCCNOT(68,216,217)
NCCNOT(69,217,218)
NCCNOT(70,218,219)
NCCNOT(71,219,220)
NCCNOT(72,220,221)
NCCNOT(73,221,222)
NCCNOT(74,222,223)
NCCNOT(75,223,224)
NCCNOT(76,224,225)
NCCNOT(77,225,226)
NCCNOT(78,226,227)
NCCNOT(79,227,228)
NCCNOT(80,228,229)
NCCNOT(81,229,230)
NCCNOT(82,230,231)
NCCNOT(83,231,232)
NCCNOT(84,232,233)
NCCNOT(85,233,234)
NCCNOT(86,234,235)
NCCNOT(87,235,236)
NCCNOT(88,236,237)
NCCNOT(89,237,238)
NCCNOT(90,238,239)
NCCNOT(91,239,240)
NCCNOT(92,240,241)
NCCNOT(93,241,242)
NCCNOT(94,242,243)
NCCNOT(95,243,244)
NCCNOT(96,244,245)
NCCNOT(97,245,246)
NCCNOT(98,246,247)
NCCNOT(99,247,248)
NCCNOT(100,248,249)
NCCNOT(101,249,250)
NCCNOT(102,250,251)
NCCNOT(103,251,252)
NCCNOT(104,252,253)
NCCNOT(105,253,254)
NCCNOT(106,254,255)
NCCNOT(107,255,256)
NCCNOT(108,256,257)
NCCNOT(109,257,258)
NCCNOT(110,258,259)
NCCNOT(111,259,260)
NCCNOT(112,260,261)
NCCNOT(113,261,262)
NCCNOT(114,262,263)
NCCNOT(115,263,264)
NCCNOT(116,264,265)
NCCNOT(117,265,266)
NCCNOT(118,266,267)
NCCNOT(119,267,268)
NCCNOT(120,268,269)
NCCNOT(121,269,270)
NCCNOT(122,270,271)
NCCNOT(123,271,272)
NCCNOT(124,272,273)
NCCNOT(125,273,274)
NCCNOT(126,274,275)
NCCNOT(127,275,276)
NCCNOT(128,276,277)
NCCNOT(129,277,278)
NCCNOT(130,278,279)
NCCNOT(131,279,280)
NCCNOT(132,280,281)
NCCNOT(133,281,282)
NCCNOT(134,282,283)
NCCNOT(135,283,284)
NCCNOT(136,284,285)
NCCNOT(137,285,286)
NCCNOT(138,286,287)
NCCNOT(139,287,288)
NCCNOT(140,288,289)
NCCNOT(141,289,290)
NCCNOT(142,290,291)
NCCNOT(143,291,292)
NCCNOT(144,292,293)
NCCNOT(145,293,294)
NCCNOT(146,294,295)
NCCNOT(147,295,296)
NCCNOT(148,296,297)
NCCNOT(149,297,298)
CNOT(298,299)
// The key step!
Z(299)
CNOT(298,299)
NCCNOT(149,297,298)
NCCNOT(148,296,297)
NCCNOT(147,295,296)
NCCNOT(146,294,295)
NCCNOT(145,293,294)
NCCNOT(144,292,293)
NCCNOT(143,291,292)
NCCNOT(142,290,291)
NCCNOT(141,289,290)
NCCNOT(140,288,289)
NCCNOT(139,287,288)
NCCNOT(138,286,287)
NCCNOT(137,285,286)
NCCNOT(136,284,285)
NCCNOT(135,283,284)
NCCNOT(134,282,283)
NCCNOT(133,281,282)
NCCNOT(132,280,281)
NCCNOT(131,279,280)
NCCNOT(130,278,279)
NCCNOT(129,277,278)
NCCNOT(128,276,277)
NCCNOT(127,275,276)
NCCNOT(126,274,275)
NCCNOT(125,273,274)
NCCNOT(124,272,273)
NCCNOT(123,271,272)
NCCNOT(122,270,271)
NCCNOT(121,269,270)
NCCNOT(120,268,269)
NCCNOT(119,267,268)
NCCNOT(118,266,267)
NCCNOT(117,265,266)
NCCNOT(116,264,265)
NCCNOT(115,263,264)
NCCNOT(114,262,263)
NCCNOT(113,261,262)
NCCNOT(112,260,261)
NCCNOT(111,259,260)
NCCNOT(110,258,259)
NCCNOT(109,257,258)
NCCNOT(108,256,257)
NCCNOT(107,255,256)
NCCNOT(106,254,255)
NCCNOT(105,253,254)
NCCNOT(104,252,253)
NCCNOT(103,251,252)
NCCNOT(102,250,251)
NCCNOT(101,249,250)
NCCNOT(100,248,249)
NCCNOT(99,247,248)
NCCNOT(98,246,247)
NCCNOT(97,245,246)
NCCNOT(96,244,245)
NCCNOT(95,243,244)
NCCNOT(94,242,243)
NCCNOT(93,241,242)
NCCNOT(92,240,241)
NCCNOT(91,239,240)
NCCNOT(90,238,239)
NCCNOT(89,237,238)
NCCNOT(88,236,237)
NCCNOT(87,235,236)
NCCNOT(86,234,235)
NCCNOT(85,233,234)
NCCNOT(84,232,233)
NCCNOT(83,231,232)
NCCNOT(82,230,231)
NCCNOT(81,229,230)
NCCNOT(80,228,229)
NCCNOT(79,227,228)
NCCNOT(78,226,227)
NCCNOT(77,225,226)
NCCNOT(76,224,225)
NCCNOT(75,223,224)
NCCNOT(74,222,223)
NCCNOT(73,221,222)
NCCNOT(72,220,221)
NCCNOT(71,219,220)
NCCNOT(70,218,219)
NCCNOT(69,217,218)
NCCNOT(68,216,217)
NCCNOT(67,215,216)
NCCNOT(66,214,215)
NCCNOT(65,213,214)
NCCNOT(64,212,213)
NCCNOT(63,211,212)
NCCNOT(62,210,211)
NCCNOT(61,209,210)
NCCNOT(60,208,209)
NCCNOT(59,207,208)
NCCNOT(58,206,207)
NCCNOT(57,205,206)
NCCNOT(56,204,205)
NCCNOT(55,203,204)
NCCNOT(54,202,203)
NCCNOT(53,201,202)
NCCNOT(52,200,201)
NCCNOT(51,199,200)
NCCNOT(50,198,199)
NCCNOT(49,197,198)
NCCNOT(48,196,197)
NCCNOT(47,195,196)
NCCNOT(46,194,195)
NCCNOT(45,193,194)
NCCNOT(44,192,193)
NCCNOT(43,191,192)
NCCNOT(42,190,191)
NCCNOT(41,189,190)
NCCNOT(40,188,189)
NCCNOT(39,187,188)
NCCNOT(38,186,187)
NCCNOT(37,185,186)
NCCNOT(36,184,185)
NCCNOT(35,183,184)
NCCNOT(34,182,183)
NCCNOT(33,181,182)
NCCNOT(32,180,181)
NCCNOT(31,179,180)
NCCNOT(30,178,179)
NCCNOT(29,177,178)
NCCNOT(28,176,177)
NCCNOT(27,175,176)
NCCNOT(26,174,175)
NCCNOT(25,173,174)
NCCNOT(24,172,173)
NCCNOT(23,171,172)
NCCNOT(22,170,171)
NCCNOT(21,169,170)
NCCNOT(20,168,169)
NCCNOT(19,167,168)
NCCNOT(18,166,167)
NCCNOT(17,165,166)
NCCNOT(16,164,165)
NCCNOT(15,163,164)
NCCNOT(14,162,163)
NCCNOT(13,161,162)
NCCNOT(12,160,161)
NCCNOT(11,159,160)
NCCNOT(10,158,159)
NCCNOT(9,157,158)
NCCNOT(8,156,157)
NCCNOT(7,155,156)
NCCNOT(6,154,155)
NCCNOT(5,153,154)
NCCNOT(4,152,153)
NCCNOT(3,151,152)
NCCNOT(2,150,151)
NCNCNOT(0,1,150)

H(0)
H(1)
H(2)
H(3)
H(4)
H(5)
H(6)
H(7)
H(8)
H(9)
H(10)
H(11)
H(12)
H(13)
H(14)
H(15)
H(16)
H(17)
H(18)
H(19)
H(20)
H(21)
H(22)
H(23)
H(24)
H(25)
H(26)
H(27)
H(28)
H(29)
H(30)
H(31)
H(32)
H(33)
H(34)
H(35)
H(36)
H(37)
H(38)
H(39)
H(40)
H(41)
H(42)
H(43)
H(44)
H(45)
H(46)
H(47)
H(48)
H(49)
H(50)
H(51)
H(52)
H(53)
H(54)
H(55)
H(56)
H(57)
H(58)
H(59)
H(60)
H(61)
H(62)
H(63)
H(64)
H(65)
H(66)
H(67)
H(68)
H(69)
H(70)
H(71)
H(72)
H(73)
H(74)
H(75)
H(76)
H(77)
H(78)
H(79)
H(80)
H(81)
H(82)
H(83)
H(84)
H(85)
H(86)
H(87)
H(88)
H(89)
H(90)
H(91)
H(92)
H(93)
H(94)
H(95)
H(96)
H(97)
H(98)
H(99)
H(100)
H(101)
H(102)
H(103)
H(104)
H(105)
H(106)
H(107)
H(108)
H(109)
H(110)
H(111)
H(112)
H(113)
H(114)
H(115)
H(116)
H(117)
H(118)
H(119)
H(120)
H(121)
H(122)
H(123)
H(124)
H(125)
H(126)
H(127)
H(128)
H(129)
H(130)
H(131)
H(132)
H(133)
H(134)
H(135)
H(136)
H(137)
H(138)
H(139)
H(140)
H(141)
H(142)
H(143)
H(144)
H(145)
H(146)
H(147)
H(148)
H(149)

NCNCNOT(0,1,150)
NCCNOT(2,150,151)
NCCNOT(3,151,152)
NCCNOT(4,152,153)
NCCNOT(5,153,154)
NCCNOT(6,154,155)
NCCNOT(7,155,156)
NCCNOT(8,156,157)
NCCNOT(9,157,158)
NCCNOT(10,158,159)
NCCNOT(11,159,160)
NCCNOT(12,160,161)
NCCNOT(13,161,162)
NCCNOT(14,162,163)
NCCNOT(15,163,164)
NCCNOT(16,164,165)
NCCNOT(17,165,166)
NCCNOT(18,166,167)
NCCNOT(19,167,168)
NCCNOT(20,168,169)
NCCNOT(21,169,170)
NCCNOT(22,170,171)
NCCNOT(23,171,172)
NCCNOT(24,172,173)
NCCNOT(25,173,174)
NCCNOT(26,174,175)
NCCNOT(27,175,176)
NCCNOT(28,176,177)
NCCNOT(29,177,178)
NCCNOT(30,178,179)
NCCNOT(31,179,180)
NCCNOT(32,180,181)
NCCNOT(33,181,182)
NCCNOT(34,182,183)
NCCNOT(35,183,184)
NCCNOT(36,184,185)
NCCNOT(37,185,186)
NCCNOT(38,186,187)
NCCNOT(39,187,188)
NCCNOT(40,188,189)
NCCNOT(41,189,190)
NCCNOT(42,190,191)
NCCNOT(43,191,192)
NCCNOT(44,192,193)
NCCNOT(45,193,194)
NCCNOT(46,194,195)
NCCNOT(47,195,196)
NCCNOT(48,196,197)
NCCNOT(49,197,198)
NCCNOT(50,198,199)
NCCNOT(51,199,200)
NCCNOT(52,200,201)
NCCNOT(53,201,202)
NCCNOT(54,202,203)
NCCNOT(55,203,204)
NCCNOT(56,204,205)
NCCNOT(57,205,206)
NCCNOT(58,206,207)
NCCNOT(59,207,208)
NCCNOT(60,208,209)
NCCNOT(61,209,210)
NCCNOT(62,210,211)
NCCNOT(63,211,212)
NCCNOT(64,212,213)
NCCNOT(65,213,214)
NCCNOT(66,214,215)
NCCNOT(67,215,216)
NCCNOT(68,216,217)
NCCNOT(69,217,218)
NCCNOT(70,218,219)
NCCNOT(71,219,220)
NCCNOT(72,220,221)
NCCNOT(73,221,222)
NCCNOT(74,222,223)
NCCNOT(75,223,224)
NCCNOT(76,224,225)
NCCNOT(77,225,226)
NCCNOT(78,226,227)
NCCNOT(79,227,228)
NCCNOT(80,228,229)
NCCNOT(81,229,230)
NCCNOT(82,230,231)
NCCNOT(83,231,232)
NCCNOT(84,232,233)
NCCNOT(85,233,234)
NCCNOT(86,234,235)
NCCNOT(87,235,236)
NCCNOT(88,236,237)
NCCNOT(89,237,238)
NCCNOT(90,238,239)
NCCNOT(91,239,240)
NCCNOT(92,240,241)
NCCNOT(93,241,242)
NCCNOT(94,242,243)
NCCNOT(95,243,244)
NCCNOT(96,244,245)
NCCNOT(97,245,246)
NCCNOT(98,246,247)
NCCNOT(99,247,248)
NCCNOT(100,248,249)
NCCNOT(101,249,250)
NCCNOT(102,250,251)
NCCNOT(103,251,252)
NCCNOT(104,252,253)
NCCNOT(105,253,254)
NCCNOT(106,254,255)
NCCNOT(107,255,256)
NCCNOT(108,256,257)
NCCNOT(109,257,258)
NCCNOT(110,258,259)
NCCNOT(111,259,260)
NCCNOT(112,260,261)
NCCNOT(113,261,262)
NCCNOT(114,262,263)
NCCNOT(115,263,264)
NCCNOT(116,264,265)
NCCNOT(117,265,266)
NCCNOT(118,266,267)
NCCNOT(119,267,268)
NCCNOT(120,268,269)
NCCNOT(121,269,270)
NCCNOT(122,270,271)
NCCNOT(123,271,272)
NCCNOT(124,272,273)
NCCNOT(125,273,274)
NCCNOT(126,274,275)
NCCNOT(127,275,276)
NCCNOT(128,276,277)
NCCNOT(129,277,278)
NCCNOT(130,278,279)
NCCNOT(131,279,280)
NCCNOT(132,280,281)
NCCNOT(133,281,282)
NCCNOT(134,282,283)
NCCNOT(135,283,284)
NCCNOT(136,284,285)
NCCNOT(137,285,286)
NCCNOT(138,286,287)
NCCNOT(139,287,288)
NCCNOT(140,288,289)
NCCNOT(141,289,290)
NCCNOT(142,290,291)
NCCNOT(143,291,292)
NCCNOT(144,292,293)
NCCNOT(145,293,294)
NCCNOT(146,294,295)
NCCNOT(147,295,296)
NCCNOT(148,296,297)
NCCNOT(149,297,298)
CNOT(298,299)
// The key step!
Z(299)
CNOT(298,299)
NCCNOT(149,297,298)
NCCNOT(148,296,297)
NCCNOT(147,295,296)
NCCNOT(146,294,295)
NCCNOT(145,293,294)
NCCNOT(144,292,293)
NCCNOT(143,291,292)
NCCNOT(142,290,291)
NCCNOT(141,289,290)
NCCNOT(140,288,289)
NCCNOT(139,287,288)
NCCNOT(138,286,287)
NCCNOT(137,285,286)
NCCNOT(136,284,285)
NCCNOT(135,283,284)
NCCNOT(134,282,283)
NCCNOT(133,281,282)
NCCNOT(132,280,281)
NCCNOT(131,279,280)
NCCNOT(130,278,279)
NCCNOT(129,277,278)
NCCNOT(128,276,277)
NCCNOT(127,275,276)
NCCNOT(126,274,275)
NCCNOT(125,273,274)
NCCNOT(124,272,273)
NCCNOT(123,271,272)
NCCNOT(122,270,271)
NCCNOT(121,269,270)
NCCNOT(120,268,269)
NCCNOT(119,267,268)
NCCNOT(118,266,267)
NCCNOT(117,265,266)
NCCNOT(116,264,265)
NCCNOT(115,263,264)
NCCNOT(114,262,263)
NCCNOT(113,261,262)
NCCNOT(112,260,261)
NCCNOT(111,259,260)
NCCNOT(110,258,259)
NCCNOT(109,257,258)
NCCNOT(108,256,257)
NCCNOT(107,255,256)
NCCNOT(106,254,255)
NCCNOT(105,253,254)
NCCNOT(104,252,253)
NCCNOT(103,251,252)
NCCNOT(102,250,251)
NCCNOT(101,249,250)
NCCNOT(100,248,249)
NCCNOT(99,247,248)
NCCNOT(98,246,247)
NCCNOT(97,245,246)
NCCNOT(96,244,245)
NCCNOT(95,243,244)
NCCNOT(94,242,243)
NCCNOT(93,241,242)
NCCNOT(92,240,241)
NCCNOT(91,239,240)
NCCNOT(90,238,239)
NCCNOT(89,237,238)
NCCNOT(88,236,237)
NCCNOT(87,235,236)
NCCNOT(86,234,235)
NCCNOT(85,233,234)
NCCNOT(84,232,233)
NCCNOT(83,231,232)
NCCNOT(82,230,231)
NCCNOT(81,229,230)
NCCNOT(80,228,229)
NCCNOT(79,227,228)
NCCNOT(78,226,227)
NCCNOT(77,225,226)
NCCNOT(76,224,225)
NCCNOT(75,223,224)
NCCNOT(74,222,223)
NCCNOT(73,221,222)
NCCNOT(72,220,221)
NCCNOT(71,219,220)
NCCNOT(70,218,219)
NCCNOT(69,217,218)
NCCNOT(68,216,217)
NCCNOT(67,215,216)
NCCNOT(66,214,215)
NCCNOT(65,213,214)
NCCNOT(64,212,213)
NCCNOT(63,211,212)
NCCNOT(62,210,211)
NCCNOT(61,209,210)
NCCNOT(60,208,209)
NCCNOT(59,207,208)
NCCNOT(58,206,207)
NCCNOT(57,205,206)
NCCNOT(56,204,205)
NCCNOT(55,203,204)
NCCNOT(54,202,203)
NCCNOT(53,201,202)
NCCNOT(52,200,201)
NCCNOT(51,199,200)
NCCNOT(50,198,199)
NCCNOT(49,197,198)
NCCNOT(48,196,197)
NCCNOT(47,195,196)
NCCNOT(46,194,195)
NCCNOT(45,193,194)
NCCNOT(44,192,193)
NCCNOT(43,191,192)
NCCNOT(42,190,191)
NCCNOT(41,189,190)
NCCNOT(40,188,189)
NCCNOT(39,187,188)
NCCNOT(38,186,187)
NCCNOT(37,185,186)
NCCNOT(36,184,185)
NCCNOT(35,183,184)
NCCNOT(34,182,183)
NCCNOT(33,181,182)
NCCNOT(32,180,181)
NCCNOT(31,179,180)
NCCNOT(30,178,179)
NCCNOT(29,177,178)
NCCNOT(28,176,177)
NCCNOT(27,175,176)
NCCNOT(26,174,175)
NCCNOT(25,173,174)
NCCNOT(24,172,173)
NCCNOT(23,171,172)
NCCNOT(22,170,171)
NCCNOT(21,169,170)
NCCNOT(20,168,169)
NCCNOT(19,167,168)
NCCNOT(18,166,167)
NCCNOT(17,165,166)
NCCNOT(16,164,165)
NCCNOT(15,163,164)
NCCNOT(14,162,163)
NCCNOT(13,161,162)
NCCNOT(12,160,161)
NCCNOT(11,159,160)
NCCNOT(10,158,159)
NCCNOT(9,157,158)
NCCNOT(8,156,157)
NCCNOT(7,155,156)
NCCNOT(6,154,155)
NCCNOT(5,153,154)
NCCNOT(4,152,153)
NCCNOT(3,151,152)
NCCNOT(2,150,151)
NCNCNOT(0,1,150)

H(0)
H(1)
H(2)
H(3)
H(4)
H(5)
H(6)
H(7)
H(8)
H(9)
H(10)
H(11)
H(12)
H(13)
H(14)
H(15)
H(16)
H(17)
H(18)
H(19)
H(20)
H(21)
H(22)
H(23)
H(24)
H(25)
H(26)
H(27)
H(28)
H(29)
H(30)
H(31)
H(32)
H(33)
H(34)
H(35)
H(36)
H(37)
H(38)
H(39)
H(40)
H(41)
H(42)
H(43)
H(44)
H(45)
H(46)
H(47)
H(48)
H(49)
H(50)
H(51)
H(52)
H(53)
H(54)
H(55)
H(56)
H(57)
H(58)
H(59)
H(60)
H(61)
H(62)
H(63)
H(64)
H(65)
H(66)
H(67)
H(68)
H(69)
H(70)
H(71)
H(72)
H(73)
H(74)
H(75)
H(76)
H(77)
H(78)
H(79)
H(80)
H(81)
H(82)
H(83)
H(84)
H(85)
H(86)
H(87)
H(88)
H(89)
H(90)
H(91)
H(92)
H(93)
H(94)
H(95)
H(96)
H(97)
H(98)
H(99)
H(100)
H(101)
H(102)
H(103)
H(104)
H(105)
H(106)
H(107)
H(108)
H(109)
H(110)
H(111)
H(112)
H(113)
H(114)
H(115)
H(116)
H(117)
H(118)
H(119)
H(120)
H(121)
H(122)
H(123)
H(124)
H(125)
H(126)
H(127)
H(128)
H(129)
H(130)
H(131)
H(132)
H(133)
H(134)
H(135)
H(136)
H(137)
H(138)
H(139)
H(140)
H(141)
H(142)
H(143)
H(144)
H(145)
H(146)
H(147)
H(148)
H(149)

assert state in span {
  |000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000> ,
  |000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++>
}

measure 0..299
